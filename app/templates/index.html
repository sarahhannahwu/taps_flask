<!DOCTYPE html>
<html>
<head>
    <title>TAPS Data Analysis Tool</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script defer src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>
    <div class="container">
        <h1 style="text-align: center;">Toolkit for Assessing Phones in Schools</h1>
        <p style="text-align: left; margin-top: 0.5rem; margin-bottom: 2rem; color: #666;">
            This is the data analysis tool for the Toolkit for Assessing Phones in Schools (TAPS), a collaboration between the <b>Stanford Social Media Lab</b> and the <b>NYU Tech and Society Lab</b>. To use this tool, please download your school's TAPS survey data as a .csv file and then upload it here to view summary statistics and visualizations. 
            <br><br>
            Please note that this tool is designed specifically for analyzing data collected using the original TAPS survey. Uploading data from a modified or different survey may result in an error. Contact the research team at <a href="mailto:team@ssml.stanford.edu">team@ssml.stanford.edu</a> for assistance.
        </p>

        <div class="upload-section">
            <input type="file" id="fileInput" class="file-input" accept=".csv" style="display:none;" />
            <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Choose CSV File</button>
            <button class="analyze-btn" id="analyzeBtn" onclick="uploadFile()" disabled>Analyze File</button>
            <div class="file-name" id="fileName"></div>
        </div>

        <div id="loading" class="loading">Analyzing your file...</div>
        <div id="error" class="error"></div>
        <div id="results" class="results"></div>
        <div id="charts" class="charts"></div>
    </div>
</body>
</html>